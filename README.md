<div style="width: 100%; text-align: center">
  <img src="images/logo.png" width="400" />
</div>

---

# Echo

è¿™æ˜¯ä¸€ä¸ªç½‘ç»œåº”ç”¨ç¨‹åºï¼Œä¸æˆ‘çš„å¥³æœ‹å‹ä¸€èµ·åº†ç¥ 5 æœˆ 20 æ—¥ï¼ˆæ„æ€æ˜¯â€œæˆ‘çˆ±ä½ â€ï¼‰ã€‚ ;P å®ƒå— iMessage ä¸­åä¸º echo çš„æ¶ˆæ¯æ•ˆæœçš„å¯å‘ã€‚

åªæ˜¯è®©ä½ å¼€å¿ƒã€‚

å—¯ï¼Œè¿™å°±æ˜¯æ­¤ä½œè€…çš„åŸè¯ï¼Œæ»¡æ»¡çš„æ’’ç‹—ç²® ğŸ¶ğŸ¶ğŸ¶ï¼Œä½†æ˜¯æ­¤ç¨‹åºè¿˜æ˜¯å¾ˆæœ‰è¶£çš„å¯¹ä¸å¯¹ï½æ‰€ä»¥è¿˜æ˜¯æ‹‰ä¸‹ä»£ç ï¼Œæ‚„æ‚„çš„ ğŸ‘€ ä¸€æ³¢ï¼ˆæ¯•ç«Ÿå•èº«æ±ªï¼Œå‘¨æœ«ä¹Ÿæ²¡ä»€ä¹ˆäº‹ï¼‰

## å°†å­¦åˆ°çš„çŸ¥è¯†ç‚¹

* å•ä¸€ div æ°”æ³¡ç»˜åˆ¶
* éšæœºå¤§å°ä½ç½®
* åŠ¨ç”»æ•ˆæœ
* å†…å­˜å›æ”¶

## æ°”æ³¡ç»˜åˆ¶

å¯ä»¥çœ‹å‡ºå®ƒæ˜¯ç”±ä¸€ä¸ªæ¤­åœ†å’Œä¸€ä¸ªå°å°¾å·´æ„æˆã€‚

å¦‚ä½•ç»˜åˆ¶ä¸‹è¿™ä¸ªå°å°¾å·´ï¼Ÿ

å…ˆçœ‹ä¸‹è¿™ç¯‡æ–‡ç« äº†è§£ä¸‹ä½¿ç”¨[CSS3ç»˜åˆ¶å›¾å½¢åŸºæœ¬åŸç†](https://www.jianshu.com/p/56256db2df2f)

![å°å°¾å·´](./images/tail.jpg)

```css
width: 10rem;
height: 10rem;
background-color: orangered;
border-left: 1rem solid orange;
border-bottom-left-radius: 10rem 7rem;
```

çœ‹æ­¤ä¸Šï¼Œå°†èƒŒæ™¯è‰²å–æ‰ï¼›æ˜¯ä¸æ˜¯ä¸€ä¸ªå°å°¾å·´å°±å‡ºæ¥äº†ï¼Œç¼©å°ä¸‹å°ºå¯¸ï¼Œæ±½æ³¡çš„å°å°¾å·´å°±å°±å‡ºæ¥äº†ï½è¿™é‡Œæˆ‘ä»¬é€šè¿‡ä¼ªç±»å…ƒç´ æ¥ç»˜åˆ¶æ°”æ³¡çš„å°å°¾å·´ã€‚

![æ°”æ³¡](./images/msg.jpg)

## éšæœºå¤§å°ä½ç½®

æ°”æ³¡æ˜¯ç»å¯¹å®šä½çš„ï¼Œæ§åˆ¶éšæœºå‡ºç°çš„ä½ç½®ï¼Œå…¶å®å°±æ˜¯æ§åˆ¶ `left`å’Œ `top`å€¼ã€‚

1. å…ˆè·å–å½“å‰å¯è§†çª—å£å°ºå¯¸
2. æ§åˆ¶æ°”æ³¡å‡ºç°çš„åœ¨å¯è§†çª—å£çš„èŒƒå›´å†…ï¼Œ `left` å’Œ `top` å°äºå¯è§†çª—å£å®½é«˜çš„å€¼
3. å¤§å°ï¼Œä½¿ç”¨ CSS3 é‡Œçš„ `transform` å±æ€§çš„ `scale()` æ¥æ§åˆ¶ï¼ˆè‚¯å®šä¸èƒ½æ¯”æœ¬èº«çš„å°ï¼‰

```js
const left = Math.ceil(Math.random() * 0.9 * screenSize.width)
const top = Math.ceil(Math.random() * 0.9 * screenSize.width)
const scale = 1 + Math.random(); // ç¼©æ”¾å€¼
```

## å†…å­˜å›æ”¶

å†…å­˜å›æ”¶å®ç°åŸç†ï¼Œ`good` ä½œä¸ºæ˜¯å¦å›æ”¶çš„æ ‡å¿—ï¼ˆå…¨ `false` è¿›è¡Œå›æ”¶ï¼‰ã€‚æ•´ä¸ªæµç¨‹å°±æ˜¯æ¯ä¸€ä¸ªæ¶ˆæ¯ `good` é»˜è®¤ä¸º `true`, å½“æŸæ¡æ¶ˆæ¯å®Œæˆäº†æ¶ˆå¤±åŠ¨ç”»ä»¥åï¼Œå°±ä¼šå°† `good` çŠ¶æ€å˜ä¸º `false`; ç„¶åå°†å›ºå®šçš„ç¬¬ä¸€æ¡æ¶ˆæ¯ä»¥å¤–çš„å…¨éƒ¨æ¶ˆæ¯ä¸­çš„ `good` æå–å‡ºæ¥ã€‚æˆ‘ä»¬çš„æœ€ç»ˆç›®çš„æ˜¯åˆ¤æ–­å½“å‰æå–å‡ºæ¥çš„æ–°æ•°ç»„é‡Œæ˜¯å¦è¿˜å­˜åœ¨å¤„äºå±•ç¤ºçŠ¶æ€çš„æ¶ˆæ¯ï¼Œæ— è®ºæ¶ˆæ¯é‡æœ‰å¤šå°‘ï¼Œåªéœ€è¦åˆ¤æ–­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ª `good` çŠ¶æ€ä¸º `true`å³å¯ï¼Œç›´åˆ°å…¨éƒ¨æ¶ˆæ¯çš„ `good` çŠ¶æ€éƒ½ä¸º `false`äº†ï¼Œæˆ‘ä»¬å†è¿›è¡Œå†…å­˜å›æ”¶ â™»ï¸ï¼Œä¹Ÿå°±æ˜¯å¯¹ `msgs` é‡ç½®ã€‚

å†…å­˜å›æ”¶çš„å®ç°:

```js
const hasMsgs = this.msgs
  .slice(1)
  .map(({ good }) => good)
  .reduce((left, right) => left || right);  // æ‰¾å‡ºä»»æ„ä¸€ä¸ªä¸º true çš„çŠ¶æ€

if (!hasMsgs) this.msgs.splice(1);
```

[å‚è€ƒDEMO](https://github.com/iwillwen/echo)

## License

MIT Licensed.
